Use sqlcmd to configure the managed identity as a database user with the appropriate roles.

Do not use Python scripts for SQL execution. The deployment script (deploy.ps1) handles this automatically.

The managed identity needs the following database permissions:
- db_datareader role for reading data
- db_datawriter role for writing data  
- EXECUTE permission for calling stored procedures

The database user is created using CREATE USER FROM EXTERNAL PROVIDER which links the Azure managed identity to a database principal.

For manual execution, use sqlcmd with --authentication-method=ActiveDirectoryDefault for Entra ID authentication. The older -G flag is deprecated in the modern go-sqlcmd tool.

Use PowerShell variable expansion directly in sqlcmd commands rather than creating separate SQL script files that require text substitution.


