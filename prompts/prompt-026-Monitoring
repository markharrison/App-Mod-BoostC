Deploy Azure Monitor resources to provide centralized logging and diagnostics for all infrastructure components.

Create a Log Analytics Workspace and Application Insights resource. Configure diagnostic settings to send logs and metrics from the App Service and SQL Database to the Log Analytics Workspace.

For the App Service, enable logging for HTTP requests, console output, application logs, audit events, and platform logs.

For Azure SQL Database, enable diagnostics for SQL Insights, Automatic Tuning, Query Store statistics, errors, timeouts, blocks, and deadlocks.

Important: Do not configure diagnostic settings at the SQL Server level. Categories like SQLSecurityAuditEvents and DevOpsOperationsAudit are not supported for SQL Server diagnostic settings and will cause deployment failures. Only configure diagnostics at the SQL Database level.